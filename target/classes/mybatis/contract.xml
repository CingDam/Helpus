<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="contract">
	<insert id="add">
		INSERT INTO contract
		VALUES(null, #{userCode}, #{coCode}, #{keyCode}, #{contractContents}, #{contractAddress}, now(), now(), now(), now(), #{contractPay}, default)
	</insert>
	
	<select id="list" resultType="Contract">
		SELECT contract.*, user.user_name userName, keyword.key_name keyName
		FROM contract JOIN user ON contract.user_code = user.user_code JOIN keyword ON contract.key_code = keyword.key_code
		WHERE co_code=#{coCode}
	</select>
</mapper>